doctype html
if page_rendered
    html(lang='en')
        head
            title Tourney Gen - leagues
            link(rel="stylesheet" href="./../css/tourneygen.css")
            link(rel="stylesheet" href="./../css/leagues.css")
        body
            div(class='home-container')
                div(class='category-card')
                    p(class='category-card-title')
                        | #{league.name}
                    p(id="league-game-type") 
                        | #{league.game_type}
                    p(id="league-description") 
                        | #{league.description}
                        div(class='category-card-entry-container')
                            if tournaments && tournaments.length > 0
                                for tourney in tournaments
                                    a(href='/leagues' class = 'list-item category-card-entry-list-item')
                                        div(class='category-card-entries')
                                            p(class='category-list')
                                                | #{tourney.name}      
                            else
                                div(class='category-card-entries')
                                    p No tournaments for this league
                    div(class='button')
                            a(href='/' data-toggle="modal" class='button' id = 'new-league') 
                                | Home

            div(id="leagues-content-obscure" class="content-obscure")
            div(class="modal" id="edit-league-modal")
                div(class="modal-content" id="edit-league-modal-content")
                    form(class="basic-form-column" action="/edit_league" method="POST") 
                        input(type="hidden" name="leagueId" value=league._id)
                        div(class="form-box")
                            h1(class="form-header" id="league-name-header")
                                | League Name:
                            input(type="text" id="league-name-field" class="form-field" name="leagueName" value=league.name)
                        div(class="form-box")
                            p(class="form-text" id="league-description-text")
                                | League Description
                            textarea(id="league-description-field" class="form-field" name="leagueDescription" rows="4" cols="20")
                                | #{league.description}
                            p(class="form-text")
                                | Game Played in League
                            input(type="text" id="league-game-type-field" class="form-field" name="leagueGameType" value=league.game_type)
                        div(class="form-box")
                            input(type="button" id="cancel-edit-league" class="basic-button" value="Cancel")
                            input(type="submit" id="submit-edit-league" class="basic-button" value="Submit")
            div(class="modal" id="delete-league-modal")
                div(class="modal-content" id="delete-league-modal-content")
                    form(class="basic-form-column" action="/delete_league" method="POST") 
                        input(type="hidden" name="leagueId" value=league._id)
                        div(class="form-box")
                            p 
                                | Are you sure you want to delete?
                            input(type="button" id="cancel-delete-league" class="basic-button" value="Cancel")
                            input(type="submit" id="submit-delete-league" class="basic-button" value="Submit")
    include adminpanels/extensions/league-adminpanel.pug
    script(src="./../js/leagues.js")

